{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const states=['waiting','active','completed','failed','dead'];function badge(state){const colors={waiting:'#ffa000',active:'#0288d1',completed:'#388e3c',failed:'#d32f2f',dead:'#616161'};return/*#__PURE__*/_jsx(\"span\",{style:{background:colors[state],color:'#fff',borderRadius:4,padding:'2px 8px',fontSize:12},children:state});}export default function JobList(_ref){let{jobs,queue}=_ref;const[tab,setTab]=useState('waiting');const filtered=jobs.filter(j=>j.state===tab);return/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',borderRadius:8,boxShadow:'0 2px 8px #0001',padding:16,marginBottom:24},children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Jobs in \",queue]}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:12},children:states.map(s=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTab(s),style:{marginRight:8,background:tab===s?'#1976d2':'#eee',color:tab===s?'#fff':'#333',border:'none',borderRadius:4,padding:'4px 12px',cursor:'pointer'},children:s},s))}),/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{background:'#f0f0f0'},children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Priority\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Attempts\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Timestamps\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Duration (ms)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Payload\"}),/*#__PURE__*/_jsx(\"th\",{children:\"State\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filtered.map(j=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:j.id}),/*#__PURE__*/_jsx(\"td\",{children:j.type}),/*#__PURE__*/_jsx(\"td\",{children:j.priority}),/*#__PURE__*/_jsx(\"td\",{children:j.attempts}),/*#__PURE__*/_jsx(\"td\",{children:j.timestamps&&Object.entries(j.timestamps).map(_ref2=>{let[k,v]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{children:[k,\": \",v]},k);})}),/*#__PURE__*/_jsx(\"td\",{children:j.duration}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"pre\",{style:{fontSize:11,background:'#f6f6f6',borderRadius:4,padding:4,maxWidth:200,overflow:'auto'},children:JSON.stringify(j.payloadPreview)})}),/*#__PURE__*/_jsx(\"td\",{children:badge(j.state)}),/*#__PURE__*/_jsxs(\"td\",{children:[j.state==='failed'&&/*#__PURE__*/_jsx(\"button\",{style:{background:'#d32f2f',color:'#fff',border:'none',borderRadius:4,padding:'4px 8px',cursor:'pointer'},children:\"Retry\"}),j.state==='dead'&&/*#__PURE__*/_jsx(\"button\",{style:{background:'#616161',color:'#fff',border:'none',borderRadius:4,padding:'4px 8px',cursor:'pointer'},children:\"Requeue\"})]})]},j.id))})]})]});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","states","badge","state","colors","waiting","active","completed","failed","dead","style","background","color","borderRadius","padding","fontSize","children","JobList","_ref","jobs","queue","tab","setTab","filtered","filter","j","boxShadow","marginBottom","map","s","onClick","marginRight","border","cursor","width","borderCollapse","id","type","priority","attempts","timestamps","Object","entries","_ref2","k","v","duration","maxWidth","overflow","JSON","stringify","payloadPreview"],"sources":["/Users/noorsandhu/development/job queue/job-queue-system/dashboard/frontend/src/JobList.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst states = ['waiting', 'active', 'completed', 'failed', 'dead'];\n\nfunction badge(state) {\n  const colors = {\n    waiting: '#ffa000',\n    active: '#0288d1',\n    completed: '#388e3c',\n    failed: '#d32f2f',\n    dead: '#616161'\n  };\n  return <span style={{background: colors[state], color: '#fff', borderRadius: 4, padding: '2px 8px', fontSize: 12}}>{state}</span>;\n}\n\nexport default function JobList({ jobs, queue }) {\n  const [tab, setTab] = useState('waiting');\n  const filtered = jobs.filter(j => j.state === tab);\n  return (\n    <div style={{background: '#fff', borderRadius: 8, boxShadow: '0 2px 8px #0001', padding: 16, marginBottom: 24}}>\n      <h2>Jobs in {queue}</h2>\n      <div style={{marginBottom: 12}}>\n        {states.map(s => (\n          <button key={s} onClick={() => setTab(s)} style={{marginRight: 8, background: tab===s?'#1976d2':'#eee', color: tab===s?'#fff':'#333', border: 'none', borderRadius: 4, padding: '4px 12px', cursor: 'pointer'}}>{s}</button>\n        ))}\n      </div>\n      <table style={{width: '100%', borderCollapse: 'collapse'}}>\n        <thead>\n          <tr style={{background: '#f0f0f0'}}>\n            <th>ID</th>\n            <th>Type</th>\n            <th>Priority</th>\n            <th>Attempts</th>\n            <th>Timestamps</th>\n            <th>Duration (ms)</th>\n            <th>Payload</th>\n            <th>State</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {filtered.map(j => (\n            <tr key={j.id}>\n              <td>{j.id}</td>\n              <td>{j.type}</td>\n              <td>{j.priority}</td>\n              <td>{j.attempts}</td>\n              <td>{j.timestamps && Object.entries(j.timestamps).map(([k,v]) => <div key={k}>{k}: {v}</div>)}</td>\n              <td>{j.duration}</td>\n              <td><pre style={{fontSize: 11, background: '#f6f6f6', borderRadius: 4, padding: 4, maxWidth: 200, overflow: 'auto'}}>{JSON.stringify(j.payloadPreview)}</pre></td>\n              <td>{badge(j.state)}</td>\n              <td>\n                {j.state==='failed' && <button style={{background:'#d32f2f',color:'#fff',border:'none',borderRadius:4,padding:'4px 8px',cursor:'pointer'}}>Retry</button>}\n                {j.state==='dead' && <button style={{background:'#616161',color:'#fff',border:'none',borderRadius:4,padding:'4px 8px',cursor:'pointer'}}>Requeue</button>}\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}